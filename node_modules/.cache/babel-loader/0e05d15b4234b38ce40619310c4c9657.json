{"ast":null,"code":"var _jsxFileName = \"/home/alejandra/Escritorio/Proyectos/Platzi/Blog/src/componets/Publications/Publications.js\";\n//-------------------------Imports\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Spinner from '../Spinner/Spiner';\nimport Fatal from '../Fatal/Fatal';\nimport * as userActions from '../../redux/actions/userActions';\nimport * as publicationsActions from '../../redux/actions/publicationsActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  getAll: getAll_Users\n} = userActions;\nconst {\n  getByUser: getUser_Publications\n} = publicationsActions;\n\nclass Publications extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.put_User = () => {\n      const {\n        usersReducers,\n        match: {\n          params: {\n            key\n          }\n        } //destructuro\n\n      } = this.props;\n\n      if (usersReducers.error) {\n        return /*#__PURE__*/_jsxDEV(Fatal, {\n          message: usersReducers.error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 20\n        }, this);\n      }\n\n      if (!usersReducers.users.length || usersReducers.loading) {\n        return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 20\n        }, this);\n      }\n\n      const name = usersReducers.users[key].name;\n      return /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Publicaciones de \", name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 13\n      }, this);\n    };\n\n    this.put_Publications = () => {\n      const {\n        usersReducers,\n        usersReducers: {\n          users\n        },\n        publicationsReducers,\n        publicationsReducers: {\n          publications\n        },\n        match: {\n          params: {\n            key\n          }\n        }\n      } = this.props;\n      if (!users.length) return;\n      if (usersReducers.error) return;\n\n      if (publicationsReducers.loading) {\n        return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 20\n        }, this);\n      }\n\n      if (publicationsReducers.error) {\n        return /*#__PURE__*/_jsxDEV(Fatal, {\n          message: publicationsReducers.error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 20\n        }, this);\n      }\n\n      if (!publications.length) return;\n      if (!('publications_key' in users[key])) return;\n      const {\n        publications_key\n      } = users[key];\n      return publications[publications_key].map(publications => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"put_title\",\n        onClick: () => alert(publications.id),\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: publications.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: publications.body\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 17\n        }, this)]\n      }, publications.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this));\n    };\n  }\n\n  async componentDidMount() {\n    const {\n      getAll_Users,\n      getUser_Publications,\n      match: {\n        params: {\n          key\n        }\n      } //destructuro\n\n    } = this.props; //sino existen los usuarios traerlos\n\n    if (!this.props.usersReducers.users.length) {\n      await getAll_Users(); //console.log(this.props.publicationsReducers)\n    }\n\n    if (this.props.usersReducers.error) {\n      return;\n    } //Si esta propiedad no esta en \n\n\n    if (!('publications_key' in this.props.usersReducers.users[key])) {\n      getUser_Publications(key);\n    }\n  } //-----------------------------Función Poner Usuarios\n\n\n  render() {\n    console.log(this.props);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [this.put_User(), this.put_Publications()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = ({\n  usersReducers,\n  publicationsReducers\n}) => {\n  return {\n    usersReducers,\n    publicationsReducers\n  };\n};\n\nconst mapDispatchToProps = {\n  getAll_Users,\n  getUser_Publications\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(Publications);","map":{"version":3,"sources":["/home/alejandra/Escritorio/Proyectos/Platzi/Blog/src/componets/Publications/Publications.js"],"names":["React","Component","connect","Spinner","Fatal","userActions","publicationsActions","getAll","getAll_Users","getByUser","getUser_Publications","Publications","put_User","usersReducers","match","params","key","props","error","users","length","loading","name","put_Publications","publicationsReducers","publications","publications_key","map","alert","id","title","body","componentDidMount","render","console","log","mapStateToProps","mapDispatchToProps"],"mappings":"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","sourcesContent":["//-------------------------Imports\nimport React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport Spinner from '../Spinner/Spiner';\nimport Fatal from '../Fatal/Fatal';\nimport * as userActions from '../../redux/actions/userActions'\nimport * as publicationsActions from '../../redux/actions/publicationsActions'\n\nconst {getAll:getAll_Users}=userActions;\nconst {getByUser:getUser_Publications}=publicationsActions;\n\nclass Publications extends Component{\n\n    async componentDidMount(){\n        const {\n            getAll_Users,\n            getUser_Publications,\n            match:{params:{key}}//destructuro\n        }= this.props;\n\n        //sino existen los usuarios traerlos\n        if(!this.props.usersReducers.users.length){\n            await getAll_Users();\n            //console.log(this.props.publicationsReducers)\n        }\n        if(this.props.usersReducers.error){\n            return;\n        }\n        //Si esta propiedad no esta en \n        if(!('publications_key' in this.props.usersReducers.users[key])){\n           getUser_Publications(key);\n        }      \n    }\n\n    //-----------------------------Función Poner Usuarios\n    put_User= ()=>{\n        const {\n            usersReducers,  \n            match:{params:{key}}//destructuro\n        }= this.props;\n        if(usersReducers.error){\n            return <Fatal message={usersReducers.error}/>\n        }\n        if(!usersReducers.users.length|| usersReducers.loading){\n            return <Spinner/>\n        }\n        const name= usersReducers.users[key].name;\n        return(\n            <h1>\n                Publicaciones de {name}\n            </h1>\n        )\n    };\n\n    //----------------------------Función Poner Publicaciones\n    put_Publications=()=>{\n        const {\n            usersReducers, \n            usersReducers:{users},\n            publicationsReducers, \n            publicationsReducers:{publications},\n            match:{params:{key}}\n        }= this.props;\n        if(!users.length) return;\n        if(usersReducers.error)return;\n        if(publicationsReducers.loading){\n            return <Spinner/>\n        }\n        if(publicationsReducers.error){\n            return <Fatal message={publicationsReducers.error}/>\n        }\n        if(!publications.length) return;\n        if(!('publications_key' in users[key]))return;\n        \n        const {publications_key}=users[key]\n        return publications[publications_key].map((publications)=>(\n            <div \n            className=\"put_title\"\n            key={publications.id}\n            onClick={()=>alert(publications.id)}\n            >\n                <h2>\n                    {publications.title}\n                </h2>\n                <h3>\n                    {publications.body}\n                </h3>\n            </div>\n        ));\n    };\n\n    render(){\n        console.log(this.props)\n        return(\n            <div>\n               {this.put_User()}\n               {this.put_Publications()}\n            </div>\n        )\n    }\n}\nconst mapStateToProps= ({usersReducers, publicationsReducers}) => {\n    return {\n        usersReducers,\n        publicationsReducers\n    };\n};\n\nconst mapDispatchToProps=({\n    getAll_Users,\n    getUser_Publications\n})\nexport default connect(mapStateToProps,mapDispatchToProps)(Publications);"]},"metadata":{},"sourceType":"module"}